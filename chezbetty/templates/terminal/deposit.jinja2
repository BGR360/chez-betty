{% extends "base.jinja2" %}
{% set active_page = 'deposit' %}
{% block title %}{{ _('Deposit') }}{% endblock %}
{% block header %}{{ _('Deposit') }}{% endblock %}


{% block content %}

{% set active_page = 'deposit' %}
{% include "user_info.jinja2" %}

<div class="panel panel-default">
  <div class="panel-heading">
    <h3 class="panel-title">{{ _('Deposit') }}</h3>
  </div>
  <div class="panel-body">

    <div class="row wrapper">
      <div class="col-md-4 deposit-type-col">
        <div class="row">
          <div class="col-md-12">
            <h3>{{ _('Cash') }}</h3>
            <h5 style="margin-left: 10px;">{{ _('Your Deposit Limit: %(limit)s')|format(limit=user.deposit_limit|format_currency)|safe }}</h5>
            {% set keypad_val = keypad_val|default(0.00) %}
            <div id="keypad-total" class="well well-sm keypad-full-width">${{ '%0.2f'| format(keypad_val|float) }}</div>
            <div id="default_values_wrapper">
              <button type="button" id="btn-default-100"    class="btn btn-default btn-lg btn-default-deposit">$100</button>
              <button type="button" id="btn-default-20"     class="btn btn-default btn-lg btn-default-deposit">$20</button>
              <button type="button" id="btn-default-5"      class="btn btn-default btn-lg btn-default-deposit">$5</button>
              <button type="button" id="btn-default-custom" class="btn btn-default btn-lg btn-default-deposit">{{ _('Custom Amount') }}</button>
            </div>
            <div id="keypad_wrapper" style="display: none;">
              {% include "keypad.jinja2" %}
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-12">
            <button type="button" id="btn-deposit-user" class="btn btn-success btn-lg btn-submit-deposit">{{ _('Deposit To Your Account') }}</button>
            {% for pool in pools %}
            <button type="button" id="btn-deposit-pool-{{ pool.id }}" class="btn btn-success btn-lg btn-submit-deposit">{{ _('Deposit To %(pool_name)s Pool')|format(pool_name=pool.name) }}</button>
            {% endfor %}
          </div>
        </div>
      </div>



      <div class="line line-first-third"></div>
      <div class="wordwrapper wordwrapper-first-third">
        <div class="word">or</div>
      </div>


      <div class="col-md-4 deposit-type-col">
        <h3>{{ _('Bitcoin') }}</h3>
        {{ btc|safe }}
      </div>


      <div class="line line-second-third"></div>
      <div class="wordwrapper wordwrapper-second-third">
        <div class="word">or</div>
      </div>

      <div class="col-md-4 deposit-type-col">
        <h3>{{ _('Credit Card') }}</h3>
        <div style="text-align:center">
          <h4 style="text-align:center">{{ _('Betty now accepts credit cards!') }}</h4>
          <hr />
          <p>
            {{ _('To deposit using a credit card, please visit https://chezbetty.eecs.umich.edu/user on your own computer.') }}
          </p>
          <hr />
          {#
          {% if user.has_password == False %}
          <p>
            {{ _('Clicking this button will email you your login and password information.') }}
          </p>
          {{ button.ajax_singleuse_button("Create and Email Password", "/terminal/deposit/"~user.id~"/password/create") }}
          {% else %}
          <p>
            {{ _('Clicking this button will email you a new password.') }}
          </p>
          {{ button.ajax_singleuse_button("Reset and Email Password", "/terminal/deposit/"~user.id~"/password/reset") }}
          {% endif %}
          #}
          {{ button.ajax_singleuse_button("Email me the link!", "/terminal/deposit/"~user.id~"/emailinfo") }}
        </div>
      </div>


    </div>
  </div>
</div>

{% endblock %}

{% block onload %}
<script src="{{'chezbetty:static/js/chezbetty-mcard.js'|static_url}}"></script>
{% endblock %}
